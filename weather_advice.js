const WEATHER_ADVICE = {
    // Ясно / Солнечно
    0: {
        uk: [
            "Сонце світить яскраво! Ловіть вітамін D, поки є можливість.",
            "Ідеальний день для прогулянки, але не забувайте про SPF.",
            "Небо чисте, настрій має бути таким саме. Гарного дня!",
            "Сьогодні без парасольки. Насолоджуйтесь теплом."
        ],
        ru: [
            "Солнце светит ярко! Ловите витамин D, пока есть возможность.",
            "Идеальный день для прогулки, но не забывайте про SPF.",
            "Небо чистое, настроение должно быть таким же. Хорошего дня!",
            "Сегодня без зонтика. Наслаждайтесь теплом."
        ]
    },
    // Облачно
    1: {
        uk: [
            "Хмари гуляють небом, але сонце іноді визирає.",
            "Комфортна погода для справ. Ні спекотно, ні холодно.",
            "Сьогодні небо у 'творчому безладі'.",
            "Можна гуляти, дощу наче не планується."
        ],
        ru: [
            "Облака гуляют по небу, но солнце иногда выглядывает.",
            "Комфортная погода для дел. Ни жарко, ни холодно.",
            "Сегодня небо в 'творческом беспорядке'.",
            "Можно гулять, дождя вроде не планируется."
        ]
    },
    // Пасмурно / Туман
    3: {
        uk: [
            "Сіре небо — ідеальний фон для яскравих думок.",
            "Туманно і тихо. Час для гарячої кави та музики.",
            "Видимість знижена, будьте уважні на дорогах.",
            "Сонце взяло вихідний, але ми світимо самі!"
        ],
        ru: [
            "Серое небо — идеальный фон для ярких мыслей.",
            "Туманно и тихо. Время для горячего кофе и музыки.",
            "Видимость снижена, будьте внимательны на дорогах.",
            "Солнце взяло выходной, но мы светим сами!"
        ]
    },
    // Дождь / Морось
    51: {
        uk: [
            "Парасолька сьогодні — ваш найкращий друг.",
            "Дощ змиває пил, дихати буде легше.",
            "Мокра погода? Чудовий привід залишитись вдома під пледом.",
            "Взувайте щось непромокаюче, там калюжі."
        ],
        ru: [
            "Зонтик сегодня — ваш лучший друг.",
            "Дождь смывает пыль, дышать будет легче.",
            "Мокрая погода? Отличный повод остаться дома под пледом.",
            "Обувайте что-то непромокаемое, там лужи."
        ]
    },
    // Снег
    71: {
        uk: [
            "Сніг падає! Час робити сніговика або просто милуватися.",
            "Обережно, може бути слизько. Ходіть пінгвінчиком.",
            "Зимова казка за вікном. Одягайтеся тепліше!",
            "Сніжинки на віях — це красиво, але шапку не забудьте."
        ],
        ru: [
            "Снег падает! Время лепить снеговика или просто любоваться.",
            "Осторожно, может быть скользко. Ходите пингвинчиком.",
            "Зимняя сказка за окном. Одевайтесь теплее!",
            "Снежинки на ресницах — это красиво, но шапку не забудьте."
        ]
    },
    // Гроза
    95: {
        uk: [
            "Грім гримить! Краще перечекати негоду в приміщенні.",
            "Природа показує характер. Бережіть себе.",
            "Зарядіть гаджети, у грозу всяке буває.",
            "Стихія лютує, а вдома затишно."
        ],
        ru: [
            "Гром гремит! Лучше переждать непогоду в помещении.",
            "Природа показывает характер. Берегите себя.",
            "Зарядите гаджеты, в грозу всякое бывает.",
            "Стихия бушует, а дома уютно."
        ]
    }
};

// Функция выбора фразы
function getWeatherAdvice(code, lang) {
    // Маппинг кодов API на наши категории советов
    let category = 0; // По дефолту ясно
    if (code >= 1 && code <= 2) category = 1; // Облачно
    if (code === 3 || code === 45 || code === 48) category = 3; // Пасмурно/Туман
    if ((code >= 51 && code <= 67) || (code >= 80 && code <= 82)) category = 51; // Дождь
    if ((code >= 71 && code <= 77) || (code >= 85 && code <= 86)) category = 71; // Снег
    if (code >= 95) category = 95; // Гроза

    const phrases = WEATHER_ADVICE[category] ? WEATHER_ADVICE[category][lang] : WEATHER_ADVICE[0][lang];
    // Берем случайную фразу
    const randomIndex = Math.floor(Math.random() * phrases.length);
    return phrases[randomIndex];
}
